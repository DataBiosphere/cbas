databaseChangeLog:
  - changeSet:
      id: "method prepopulation for assemble_refbased"
      author: kpierre
      changes:
        - insert:
            tableName: method
            columns:
              - column:
                  name: method_id
                  value: 00000000-0000-0000-0000-000000000005
              - column:
                  name: name
                  value: assemble_refbased
              - column:
                  name: description
                  value: assemble_refbased / Target Workflow 2
              - column:
                  name: created
                  valueDate: "CURRENT_TIMESTAMP()"
              - column:
                  name: method_source
                  value: Github
              - column:
                  name: last_run_set_id
                  value: null
        - insert:
            tableName: method_version
            columns:
              - column:
                  name: method_version_id
                  value: 50000000-0000-0000-0000-000000000005
              - column:
                  name: method_id
                  value: 00000000-0000-0000-0000-000000000005
              - column:
                  name: method_version_name
                  value: '1.0'
              - column:
                  name: method_version_description
                  value: 'Target workflow assemble_refbased'
              - column:
                  name: method_version_url
                  value: 'https://raw.githubusercontent.com/broadinstitute/viral-pipelines/master/pipes/WDL/workflows/assemble_refbased.wdl'
        - insert:
            tableName: run_set
            columns:
              - column:
                  name: run_set_id
                  value: 10000000-0000-0000-0000-000000000005
              - column:
                  name: method_version_id
                  value: 50000000-0000-0000-0000-000000000005
              - column:
                  name: is_template
                  value: true
              - column:
                  name: run_set_name
                  value: assemble_refbased workflow
              - column:
                  name: run_set_description
                  value: "assemble_refbased workflow"
              - column:
                  name: status
                  value: COMPLETE
              - column:
                  name: run_count
                  value: 0
              - column:
                  name: error_count
                  value: 0
              - column:
                  name: input_definition
                  value: |
                    [
                      {
                        "input_name": "sarscov2_nextstrain.export_auspice_json.maintainers",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "array",
                            "array_type": {
                              "type": "primitive",
                              "primitive_type": "String"
                            }
                          },
                          "non_empty": false
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_export_auspice_json_maintainers"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.translate_augur_tree.genes",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_translate_augur_tree_genes"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.mafft.docker",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_mafft_docker"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.ancestral_traits.confidence",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Boolean"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_ancestral_traits_confidence"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.nextstrain_ncov_defaults.docker",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_nextstrain_ncov_defaults_docker"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.tsv_join.prefer_first",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Boolean"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_tsv_join_prefer_first"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.draft_augur_tree.method",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_draft_augur_tree_method"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.ancestral_traits.sampling_bias_correction",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Float"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_ancestral_traits_sampling_bias_correction"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.derived_cols.table_map",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "array",
                            "array_type": {
                              "type": "optional",
                              "optional_type": {
                                "type": "primitive",
                                "primitive_type": "File"
                              }
                            }
                          },
                          "non_empty": false
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_derived_cols_table_map"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.mafft.cpus",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Int"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_mafft_cpus"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.subsample.machine_mem_gb",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Int"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_subsample_machine_mem_gb"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.refine_augur_tree.vcf_reference",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_refine_augur_tree_vcf_reference"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.subsample.nextstrain_ncov_repo_commit",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_subsample_nextstrain_ncov_repo_commit"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.ancestral_traits.docker",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_ancestral_traits_docker"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.subsample.drop_list",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_subsample_drop_list"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.ancestral_tree.output_vcf",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_ancestral_tree_output_vcf"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.derived_cols.docker",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_derived_cols_docker"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.assembly_fastas",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "array",
                            "array_type": {
                              "type": "optional",
                              "optional_type": {
                                "type": "primitive",
                                "primitive_type": "File"
                              }
                            }
                          },
                          "non_empty": false
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_assembly_fastas"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.snp_sites.docker",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_snp_sites_docker"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.refine_augur_tree.clock_std_dev",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Float"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_refine_augur_tree_clock_std_dev"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.export_auspice_json.docker",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_export_auspice_json_docker"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.export_auspice_json.colors_tsv",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_export_auspice_json_colors_tsv"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.mafft.remove_reference",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Boolean"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_mafft_remove_reference"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.draft_augur_tree.tree_builder_args",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_draft_augur_tree_tree_builder_args"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.filter_sequences_by_length.docker",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_filter_sequences_by_length_docker"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.refine_augur_tree.clock_filter_iqd",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Int"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_refine_augur_tree_clock_filter_iqd"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.dedup_seqs.docker",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_dedup_seqs_docker"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.tree_root_seq_id",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_tree_root_seq_id"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.mafft.batch_chunk_size",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Int"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_mafft_batch_chunk_size"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.export_auspice_json.description_md",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_export_auspice_json_description_md"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.clades_tsv",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_clades_tsv"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.ancestral_tree.vcf_reference",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_ancestral_tree_vcf_reference"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.tip_frequencies.inertia",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Float"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_tip_frequencies_inertia"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.refine_augur_tree.covariance",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Boolean"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_refine_augur_tree_covariance"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.nextstrain_ncov_defaults.nextstrain_ncov_repo_commit",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_nextstrain_ncov_defaults_nextstrain_ncov_repo_commit"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.refine_augur_tree.date_confidence",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Boolean"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_refine_augur_tree_date_confidence"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.tip_frequencies.method",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_tip_frequencies_method"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.refine_augur_tree.keep_root",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Boolean"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_refine_augur_tree_keep_root"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.refine_augur_tree.gen_per_year",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Int"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_refine_augur_tree_gen_per_year"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.ancestral_tree.docker",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_ancestral_tree_docker"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.tip_frequencies.max_date",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Float"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_tip_frequencies_max_date"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.ancestral_tree.infer_ambiguous",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Boolean"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_ancestral_tree_infer_ambiguous"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.export_auspice_json.include_root_sequence",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Boolean"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_export_auspice_json_include_root_sequence"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.refine_augur_tree.precision",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Int"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_refine_augur_tree_precision"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.refine_augur_tree.clock_rate",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Float"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_refine_augur_tree_clock_rate"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.snp_sites.allow_wildcard_bases",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Boolean"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_snp_sites_allow_wildcard_bases"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.export_auspice_json.geo_resolutions",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "array",
                            "array_type": {
                              "type": "primitive",
                              "primitive_type": "String"
                            }
                          },
                          "non_empty": false
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_export_auspice_json_geo_resolutions"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.refine_augur_tree.branch_length_inference",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_refine_augur_tree_branch_length_inference"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.refine_augur_tree.date_inference",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_refine_augur_tree_date_inference"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.translate_augur_tree.vcf_reference_output",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_translate_augur_tree_vcf_reference_output"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.ancestral_traits.machine_mem_gb",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Int"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_ancestral_traits_machine_mem_gb"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.assign_clades_to_nodes.docker",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_assign_clades_to_nodes_docker"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.draft_augur_tree.exclude_sites",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_draft_augur_tree_exclude_sites"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.tip_frequencies.docker",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_tip_frequencies_docker"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.tip_frequencies.stiffness",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Float"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_tip_frequencies_stiffness"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.zcat.cpus",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Int"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_zcat_cpus"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.draft_augur_tree.docker",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_draft_augur_tree_docker"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.sample_metadata_tsvs",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "array",
                            "array_type": {
                              "type": "optional",
                              "optional_type": {
                                "type": "primitive",
                                "primitive_type": "File"
                              }
                            }
                          },
                          "non_empty": false
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_sample_metadata_tsvs"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.export_auspice_json.title",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_export_auspice_json_title"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.build_name",
                        "input_type": {
                          "type": "primitive",
                          "primitive_type": "String"
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_build_name"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.ancestral_tree.inference",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_ancestral_tree_inference"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.tip_frequencies.include_internal_nodes",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Boolean"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_tip_frequencies_include_internal_nodes"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.augur_mask_sites.docker",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_augur_mask_sites_docker"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.ancestral_tree.keep_overhangs",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Boolean"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_ancestral_tree_keep_overhangs"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.ancestral_traits.weights",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_ancestral_traits_weights"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.refine_augur_tree.keep_polytomies",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Boolean"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_refine_augur_tree_keep_polytomies"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.dedup_seqs.error_on_seq_diff",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Boolean"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_dedup_seqs_error_on_seq_diff"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.tip_frequencies.wide_bandwidth",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Float"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_tip_frequencies_wide_bandwidth"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.augur_mask_sites.mask_bed",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_augur_mask_sites_mask_bed"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.draft_augur_tree.substitution_model",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_draft_augur_tree_substitution_model"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.refine_augur_tree.coalescent",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_refine_augur_tree_coalescent"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.refine_augur_tree.docker",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_refine_augur_tree_docker"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.mafft.mem_size",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Int"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_mafft_mem_size"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.subsample.docker",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_subsample_docker"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.min_unambig_genome",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Int"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_min_unambig_genome"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.subsample.keep_list",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_subsample_keep_list"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.lat_longs_tsv",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_lat_longs_tsv"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.translate_augur_tree.docker",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_translate_augur_tree_docker"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.export_auspice_json.color_by_metadata",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "array",
                            "array_type": {
                              "type": "primitive",
                              "primitive_type": "String"
                            }
                          },
                          "non_empty": false
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_export_auspice_json_color_by_metadata"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.draft_augur_tree.vcf_reference",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_draft_augur_tree_vcf_reference"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.subsample.parameters_yaml",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_subsample_parameters_yaml"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.tip_frequencies.minimal_frequency",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Float"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_tip_frequencies_minimal_frequency"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.ref_fasta",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_ref_fasta"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.ancestral_tree.keep_ambiguous",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Boolean"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_ancestral_tree_keep_ambiguous"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.mafft.threads_per_job",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Int"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_mafft_threads_per_job"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.derived_cols.lab_highlight_loc",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_derived_cols_lab_highlight_loc"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.tip_frequencies.censored",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Boolean"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_tip_frequencies_censored"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.translate_augur_tree.vcf_reference",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_translate_augur_tree_vcf_reference"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.builds_yaml",
                        "input_type": {
                          "type": "primitive",
                          "primitive_type": "File"
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_builds_yaml"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.tip_frequencies.machine_mem_gb",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Int"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_tip_frequencies_machine_mem_gb"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.auspice_config",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_auspice_config"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.refine_augur_tree.divergence_units",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_refine_augur_tree_divergence_units"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.draft_augur_tree.cpus",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Int"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_draft_augur_tree_cpus"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.ancestral_traits_to_infer",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "array",
                            "array_type": {
                              "type": "primitive",
                              "primitive_type": "String"
                            }
                          },
                          "non_empty": false
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_ancestral_traits_to_infer"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.dedup_seqs.nextstrain_ncov_repo_commit",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_dedup_seqs_nextstrain_ncov_repo_commit"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.tsv_join.out_suffix",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "String"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_tsv_join_out_suffix"
                        }
                      },
                      {
                        "input_name": "sarscov2_nextstrain.export_auspice_json.machine_mem_gb",
                        "input_type": {
                          "type": "optional",
                          "optional_type": {
                            "type": "primitive",
                            "primitive_type": "Int"
                          }
                        },
                        "source": {
                          "type": "record_lookup",
                          "record_attribute": "sarscov2_nextstrain_export_auspice_json_machine_mem_gb"
                        }
                      }
                    ]
              - column:
                  name: output_definition
                  value: |
                    [
                      {
                        "output_name": "sarscov2_nextstrain.masked_alignment",
                        "output_type": {
                          "type": "primitive",
                          "primitive_type": "File"
                        },
                        "record_attribute": "sarscov2_nextstrain_masked_alignment"
                      },
                      {
                        "output_name": "sarscov2_nextstrain.time_tree",
                        "output_type": {
                          "type": "primitive",
                          "primitive_type": "File"
                        },
                        "record_attribute": "sarscov2_nextstrain_time_tree"
                      },
                      {
                        "output_name": "sarscov2_nextstrain.auspice_input_json",
                        "output_type": {
                          "type": "primitive",
                          "primitive_type": "File"
                        },
                        "record_attribute": "sarscov2_nextstrain_auspice_input_json"
                      },
                      {
                        "output_name": "sarscov2_nextstrain.metadata_merged",
                        "output_type": {
                          "type": "primitive",
                          "primitive_type": "File"
                        },
                        "record_attribute": "sarscov2_nextstrain_metadata_merged"
                      },
                      {
                        "output_name": "sarscov2_nextstrain.multiple_alignment",
                        "output_type": {
                          "type": "primitive",
                          "primitive_type": "File"
                        },
                        "record_attribute": "sarscov2_nextstrain_multiple_alignment"
                      },
                      {
                        "output_name": "sarscov2_nextstrain.tip_frequencies_json",
                        "output_type": {
                          "type": "primitive",
                          "primitive_type": "File"
                        },
                        "record_attribute": "sarscov2_nextstrain_tip_frequencies_json"
                      },
                      {
                        "output_name": "sarscov2_nextstrain.subsampled_sequences",
                        "output_type": {
                          "type": "primitive",
                          "primitive_type": "File"
                        },
                        "record_attribute": "sarscov2_nextstrain_subsampled_sequences"
                      },
                      {
                        "output_name": "sarscov2_nextstrain.sequences_kept",
                        "output_type": {
                          "type": "primitive",
                          "primitive_type": "Int"
                        },
                        "record_attribute": "sarscov2_nextstrain_sequences_kept"
                      },
                      {
                        "output_name": "sarscov2_nextstrain.unmasked_snps",
                        "output_type": {
                          "type": "primitive",
                          "primitive_type": "File"
                        },
                        "record_attribute": "sarscov2_nextstrain_unmasked_snps"
                      },
                      {
                        "output_name": "sarscov2_nextstrain.node_data_jsons",
                        "output_type": {
                          "type": "array",
                          "array_type": {
                            "type": "primitive",
                            "primitive_type": "File"
                          },
                          "non_empty": false
                        },
                        "record_attribute": "sarscov2_nextstrain_node_data_jsons"
                      },
                      {
                        "output_name": "sarscov2_nextstrain.keep_list",
                        "output_type": {
                          "type": "primitive",
                          "primitive_type": "File"
                        },
                        "record_attribute": "sarscov2_nextstrain_keep_list"
                      },
                      {
                        "output_name": "sarscov2_nextstrain.ml_tree",
                        "output_type": {
                          "type": "primitive",
                          "primitive_type": "File"
                        },
                        "record_attribute": "sarscov2_nextstrain_ml_tree"
                      },
                      {
                        "output_name": "sarscov2_nextstrain.counts_by_group",
                        "output_type": {
                          "type": "primitive",
                          "primitive_type": "String"
                        },
                        "record_attribute": "sarscov2_nextstrain_counts_by_group"
                      },
                      {
                        "output_name": "sarscov2_nextstrain.root_sequence_json",
                        "output_type": {
                          "type": "primitive",
                          "primitive_type": "File"
                        },
                        "record_attribute": "sarscov2_nextstrain_root_sequence_json"
                      },
                      {
                        "output_name": "sarscov2_nextstrain.combined_assemblies",
                        "output_type": {
                          "type": "primitive",
                          "primitive_type": "File"
                        },
                        "record_attribute": "sarscov2_nextstrain_combined_assemblies"
                      }
                    ]
              - column:
                  name: record_type
                  value: sample
